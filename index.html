<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acordes Hathaway</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1e1e1e">
</head>
<body>

    <header>
        <div class="brand" onclick="goHome()">üé∏AcordesHathaway</div>
        
        <div class="search-container">
            <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
            <input type="text" id="searchInput" class="search-input" placeholder="Buscar canci√≥n o artista..." onkeyup="filterSongs()">
        </div>

        <div class="nav-links">
            <a href="lista.html" id="linkList">Lista</a> 
            
            <a href="#" id="shareBtn" onclick="shareApp()">Compartir</a>
            
            <a href="#" id="installBtn" style="display: none; color: #4cd137; font-weight: bold;">üì≤ Instalar</a>
        </div>
    </header>

    <div class="container">
        
        <div id="songListView">
            <div class="filters">
                <button class="filter-btn" onclick="filterByType('Alabanza')">Alabanza</button>
                <button class="filter-btn" onclick="filterByType('Adoraci√≥n')">Adoraci√≥n</button>
                <button class="filter-btn" onclick="sortSongs('artist')">Artista</button>
                <button class="filter-btn" onclick="openKeyModal()">Nota</button>
                <button class="filter-btn" style="background:#e55039;" onclick="resetFilters()">Reset</button>
            </div>

            <table>
                <thead>
                    <tr>
                        <th width="10%">#</th>
                        <th width="40%">T√≠tulo</th>
                        <th width="10%">Nota</th>
                        <th width="40%">Artista</th>
                        <th width="10%">+</th> </tr>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    </tbody>
            </table>
        </div>

        <div id="songDetailView">
            <button class="control-btn btn-back" onclick="goHome()">‚Üê Volver</button>
            
            <h2 id="detailTitle" style="text-align:center; color: var(--text-primary); font-size: 2rem;"></h2>
            <h4 id="detailArtist" style="text-align:center; color: var(--text-secondary); margin-top:0;"></h4>

            <div class="controls-bar">
                <button class="circle-btn" onclick="toggleModal('toneModal')" title="Cambiar Tono">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle></svg>
                </button>

                <button class="circle-btn" onclick="toggleNotation()" title="Ingl√©s/Espa√±ol">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
                </button>

                <button class="circle-btn" onclick="toggleModal('formatModal')" title="Tama√±o Texto">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 7V4h16v3M9 20h6M12 4v16"></path></svg>
                </button>
            </div>

            <div id="toneModal" class="mini-modal">
                <button class="modal-btn" onclick="applyTranspose(-2)">-1</button>
                <button class="modal-btn" onclick="applyTranspose(-1)">-¬Ω</button>
                <button class="modal-btn" style="background: var(--accent); color:black;" onclick="resetTranspose()">Orig</button>
                <button class="modal-btn" onclick="applyTranspose(1)">+¬Ω</button>
                <button class="modal-btn" onclick="applyTranspose(2)">+1</button>
            </div>

            <div id="formatModal" class="mini-modal">
                <button class="modal-btn" onclick="changeFontSize(-2)">A-</button>
                <button class="modal-btn" onclick="changeFontSize(2)">A+</button>
            </div>
            
            <div id="modalOverlay" class="overlay-click-close" onclick="closeAllModals()"></div>

            <div id="songContent" class="song-content"></div>
        </div>

    </div>

    <div id="keyModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeKeyModal()">&times;</span>
            <h2 style="color: var(--text-primary);">Selecciona una Nota</h2>
            <div class="key-grid" id="keyGrid">
                </div>
        </div>
    </div>

    <footer class="custom-footer">
        <div class="footer-copyright">Copyright ¬© 2026 | Acordes Hathaway</div>
        <div class="footer-credit">Servicio hecho por: <span>CirceHathaway</span></div>
    </footer>

    <div id="toastNotification" class="custom-notification"></div>

    <script src="canciones.js"></script>
    <script src="funcionalidad.js"></script>

    <div id="installAppModal">
        <div style="font-size: 50px;">üì≤</div>
        <h3 style="margin: 0; color: #4cd137;">Instalar App</h3>
        <p style="margin: 10px 0; font-weight: normal; color: #ccc;">Descarga la app para tener el cancionero 100% offline.</p>
        <div style="display: flex; gap: 10px; justify-content: center; margin-top: 10px;">
            <button id="btnInstall" class="filter-btn" style="background: #4cd137; color: white; border: none;">Instalar</button>
            <button id="btnCloseInstall" class="filter-btn" style="background: #444; border: none;">Ahora no</button>
        </div>
    </div>

</body>
</html>